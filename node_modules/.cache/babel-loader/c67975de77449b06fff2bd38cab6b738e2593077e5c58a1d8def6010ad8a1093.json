{"ast":null,"code":"class StorageService {\n  constructor() {\n    this.PROGRESS_KEY = 'de_assistant_progress';\n    this.BOOKMARKS_KEY = 'de_assistant_bookmarks';\n    this.SETTINGS_KEY = 'de_assistant_settings';\n  }\n\n  // Initialize default progress data\n  getDefaultProgress() {\n    return {\n      termsMastered: [],\n      coursesProgress: {},\n      videosWatched: [],\n      quizzesTaken: [],\n      streak: 0,\n      lastActive: null,\n      achievements: []\n    };\n  }\n\n  // Initialize default bookmarks\n  getDefaultBookmarks() {\n    return [];\n  }\n\n  // Initialize default settings\n  getDefaultSettings() {\n    return {\n      theme: 'light',\n      notifications: true,\n      autoPlayVideos: false,\n      difficulty: 'beginner',\n      dailyGoal: 5\n    };\n  }\n\n  // Progress tracking\n  saveProgress(progressData) {\n    try {\n      localStorage.setItem(this.PROGRESS_KEY, JSON.stringify(progressData));\n      return true;\n    } catch (error) {\n      console.error('Error saving progress:', error);\n      return false;\n    }\n  }\n  loadProgress() {\n    try {\n      const data = localStorage.getItem(this.PROGRESS_KEY);\n      return data ? JSON.parse(data) : this.getDefaultProgress();\n    } catch (error) {\n      console.error('Error loading progress:', error);\n      return this.getDefaultProgress();\n    }\n  }\n\n  // Bookmarks\n  saveBookmarks(bookmarks) {\n    try {\n      localStorage.setItem(this.BOOKMARKS_KEY, JSON.stringify(bookmarks));\n      return true;\n    } catch (error) {\n      console.error('Error saving bookmarks:', error);\n      return false;\n    }\n  }\n  loadBookmarks() {\n    try {\n      const data = localStorage.getItem(this.BOOKMARKS_KEY);\n      return data ? JSON.parse(data) : this.getDefaultBookmarks();\n    } catch (error) {\n      console.error('Error loading bookmarks:', error);\n      return this.getDefaultBookmarks();\n    }\n  }\n\n  // Add bookmark\n  addBookmark(item) {\n    try {\n      const bookmarks = this.loadBookmarks();\n\n      // Check if already bookmarked\n      const isAlreadyBookmarked = bookmarks.some(b => b.id === item.id && b.type === item.type);\n      if (!isAlreadyBookmarked) {\n        bookmarks.push({\n          ...item,\n          bookmarkedAt: new Date().toISOString()\n        });\n        this.saveBookmarks(bookmarks);\n        return {\n          success: true,\n          message: 'Bookmark added!'\n        };\n      }\n      return {\n        success: false,\n        message: 'Already bookmarked'\n      };\n    } catch (error) {\n      console.error('Error adding bookmark:', error);\n      return {\n        success: false,\n        message: 'Error adding bookmark'\n      };\n    }\n  }\n\n  // Remove bookmark\n  removeBookmark(itemId, itemType) {\n    try {\n      const bookmarks = this.loadBookmarks();\n      const initialLength = bookmarks.length;\n      const filteredBookmarks = bookmarks.filter(b => !(b.id === itemId && b.type === itemType));\n      if (filteredBookmarks.length !== initialLength) {\n        this.saveBookmarks(filteredBookmarks);\n        return {\n          success: true,\n          message: 'Bookmark removed!'\n        };\n      }\n      return {\n        success: false,\n        message: 'Bookmark not found'\n      };\n    } catch (error) {\n      console.error('Error removing bookmark:', error);\n      return {\n        success: false,\n        message: 'Error removing bookmark'\n      };\n    }\n  }\n\n  // Check if item is bookmarked\n  isBookmarked(itemId, itemType) {\n    try {\n      const bookmarks = this.loadBookmarks();\n      return bookmarks.some(b => b.id === itemId && b.type === itemType);\n    } catch (error) {\n      console.error('Error checking bookmark:', error);\n      return false;\n    }\n  }\n\n  // Course progress\n  updateCourseProgress(courseId, progress) {\n    try {\n      const progressData = this.loadProgress();\n      progressData.coursesProgress = progressData.coursesProgress || {};\n      progressData.coursesProgress[courseId] = Math.min(100, Math.max(0, progress));\n      this.saveProgress(progressData);\n      return true;\n    } catch (error) {\n      console.error('Error updating course progress:', error);\n      return false;\n    }\n  }\n  getCourseProgress(courseId) {\n    try {\n      var _progressData$courses;\n      const progressData = this.loadProgress();\n      return ((_progressData$courses = progressData.coursesProgress) === null || _progressData$courses === void 0 ? void 0 : _progressData$courses[courseId]) || 0;\n    } catch (error) {\n      console.error('Error getting course progress:', error);\n      return 0;\n    }\n  }\n\n  // Term mastery\n  updateTermMastery(termId, mastered) {\n    try {\n      const progressData = this.loadProgress();\n      progressData.termsMastered = progressData.termsMastered || [];\n      if (mastered) {\n        // Add if not already there\n        if (!progressData.termsMastered.includes(termId)) {\n          progressData.termsMastered.push(termId);\n        }\n      } else {\n        // Remove if exists\n        progressData.termsMastered = progressData.termsMastered.filter(id => id !== termId);\n      }\n      this.saveProgress(progressData);\n      return true;\n    } catch (error) {\n      console.error('Error updating term mastery:', error);\n      return false;\n    }\n  }\n  isTermMastered(termId) {\n    try {\n      var _progressData$termsMa;\n      const progressData = this.loadProgress();\n      return ((_progressData$termsMa = progressData.termsMastered) === null || _progressData$termsMa === void 0 ? void 0 : _progressData$termsMa.includes(termId)) || false;\n    } catch (error) {\n      console.error('Error checking term mastery:', error);\n      return false;\n    }\n  }\n\n  // Video watching\n  markVideoWatched(videoId) {\n    try {\n      const progressData = this.loadProgress();\n      progressData.videosWatched = progressData.videosWatched || [];\n      if (!progressData.videosWatched.includes(videoId)) {\n        progressData.videosWatched.push(videoId);\n        this.saveProgress(progressData);\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Error marking video as watched:', error);\n      return false;\n    }\n  }\n  isVideoWatched(videoId) {\n    try {\n      var _progressData$videosW;\n      const progressData = this.loadProgress();\n      return ((_progressData$videosW = progressData.videosWatched) === null || _progressData$videosW === void 0 ? void 0 : _progressData$videosW.includes(videoId)) || false;\n    } catch (error) {\n      console.error('Error checking video watched:', error);\n      return false;\n    }\n  }\n\n  // Quiz results\n  saveQuizResult(quizData) {\n    try {\n      const progressData = this.loadProgress();\n      progressData.quizzesTaken = progressData.quizzesTaken || [];\n      progressData.quizzesTaken.push({\n        ...quizData,\n        takenAt: new Date().toISOString(),\n        id: Date.now().toString() // Unique ID\n      });\n      this.saveProgress(progressData);\n      return true;\n    } catch (error) {\n      console.error('Error saving quiz result:', error);\n      return false;\n    }\n  }\n  getQuizResults() {\n    try {\n      const progressData = this.loadProgress();\n      return progressData.quizzesTaken || [];\n    } catch (error) {\n      console.error('Error getting quiz results:', error);\n      return [];\n    }\n  }\n\n  // Streak tracking\n  updateStreak() {\n    try {\n      const progressData = this.loadProgress();\n      const today = new Date().toDateString();\n      const lastActive = progressData.lastActive ? new Date(progressData.lastActive).toDateString() : null;\n      if (lastActive === today) {\n        return progressData.streak;\n      }\n      const yesterday = new Date();\n      yesterday.setDate(yesterday.getDate() - 1);\n      const yesterdayStr = yesterday.toDateString();\n      if (lastActive === yesterdayStr) {\n        progressData.streak += 1;\n      } else {\n        progressData.streak = 1;\n      }\n      progressData.lastActive = new Date().toISOString();\n      this.saveProgress(progressData);\n      return progressData.streak;\n    } catch (error) {\n      console.error('Error updating streak:', error);\n      return 0;\n    }\n  }\n  getStreak() {\n    try {\n      const progressData = this.loadProgress();\n      return progressData.streak || 0;\n    } catch (error) {\n      console.error('Error getting streak:', error);\n      return 0;\n    }\n  }\n\n  // Achievements\n  addAchievement(achievementId, achievementName) {\n    try {\n      const progressData = this.loadProgress();\n      progressData.achievements = progressData.achievements || [];\n      if (!progressData.achievements.some(a => a.id === achievementId)) {\n        progressData.achievements.push({\n          id: achievementId,\n          name: achievementName,\n          earnedAt: new Date().toISOString()\n        });\n        this.saveProgress(progressData);\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Error adding achievement:', error);\n      return false;\n    }\n  }\n  getAchievements() {\n    try {\n      const progressData = this.loadProgress();\n      return progressData.achievements || [];\n    } catch (error) {\n      console.error('Error getting achievements:', error);\n      return [];\n    }\n  }\n\n  // Settings\n  saveSettings(settings) {\n    try {\n      localStorage.setItem(this.SETTINGS_KEY, JSON.stringify(settings));\n      return true;\n    } catch (error) {\n      console.error('Error saving settings:', error);\n      return false;\n    }\n  }\n  loadSettings() {\n    try {\n      const data = localStorage.getItem(this.SETTINGS_KEY);\n      return data ? JSON.parse(data) : this.getDefaultSettings();\n    } catch (error) {\n      console.error('Error loading settings:', error);\n      return this.getDefaultSettings();\n    }\n  }\n  updateSetting(key, value) {\n    try {\n      const settings = this.loadSettings();\n      settings[key] = value;\n      this.saveSettings(settings);\n      return true;\n    } catch (error) {\n      console.error('Error updating setting:', error);\n      return false;\n    }\n  }\n\n  // Statistics\n  getStatistics() {\n    try {\n      var _progressData$termsMa2, _progressData$videosW2, _progressData$quizzes, _progressData$achieve;\n      const progressData = this.loadProgress();\n      const bookmarks = this.loadBookmarks();\n      return {\n        totalTermsMastered: ((_progressData$termsMa2 = progressData.termsMastered) === null || _progressData$termsMa2 === void 0 ? void 0 : _progressData$termsMa2.length) || 0,\n        totalCoursesEnrolled: Object.keys(progressData.coursesProgress || {}).length,\n        totalVideosWatched: ((_progressData$videosW2 = progressData.videosWatched) === null || _progressData$videosW2 === void 0 ? void 0 : _progressData$videosW2.length) || 0,\n        totalQuizzesTaken: ((_progressData$quizzes = progressData.quizzesTaken) === null || _progressData$quizzes === void 0 ? void 0 : _progressData$quizzes.length) || 0,\n        totalBookmarks: bookmarks.length || 0,\n        currentStreak: progressData.streak || 0,\n        totalAchievements: ((_progressData$achieve = progressData.achievements) === null || _progressData$achieve === void 0 ? void 0 : _progressData$achieve.length) || 0,\n        lastActive: progressData.lastActive || 'Never'\n      };\n    } catch (error) {\n      console.error('Error getting statistics:', error);\n      return {\n        totalTermsMastered: 0,\n        totalCoursesEnrolled: 0,\n        totalVideosWatched: 0,\n        totalQuizzesTaken: 0,\n        totalBookmarks: 0,\n        currentStreak: 0,\n        totalAchievements: 0,\n        lastActive: 'Never'\n      };\n    }\n  }\n\n  // Reset all data\n  resetAllData() {\n    try {\n      localStorage.removeItem(this.PROGRESS_KEY);\n      localStorage.removeItem(this.BOOKMARKS_KEY);\n      localStorage.removeItem(this.SETTINGS_KEY);\n      return true;\n    } catch (error) {\n      console.error('Error resetting data:', error);\n      return false;\n    }\n  }\n\n  // Export data\n  exportData() {\n    try {\n      const data = {\n        progress: this.loadProgress(),\n        bookmarks: this.loadBookmarks(),\n        settings: this.loadSettings(),\n        exportedAt: new Date().toISOString(),\n        version: '1.0.0'\n      };\n      return {\n        success: true,\n        data: JSON.stringify(data, null, 2),\n        filename: `de-assistant-backup-${new Date().toISOString().split('T')[0]}.json`\n      };\n    } catch (error) {\n      console.error('Error exporting data:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Import data\n  importData(jsonString) {\n    try {\n      const data = JSON.parse(jsonString);\n      if (data.progress) this.saveProgress(data.progress);\n      if (data.bookmarks) this.saveBookmarks(data.bookmarks);\n      if (data.settings) this.saveSettings(data.settings);\n      return {\n        success: true,\n        message: 'Data imported successfully!'\n      };\n    } catch (error) {\n      console.error('Error importing data:', error);\n      return {\n        success: false,\n        error: 'Invalid data format or corrupted file'\n      };\n    }\n  }\n\n  // Check if user has data\n  hasData() {\n    try {\n      return localStorage.getItem(this.PROGRESS_KEY) !== null || localStorage.getItem(this.BOOKMARKS_KEY) !== null || localStorage.getItem(this.SETTINGS_KEY) !== null;\n    } catch (error) {\n      console.error('Error checking data:', error);\n      return false;\n    }\n  }\n\n  // Get all progress for dashboard\n  getDashboardData() {\n    try {\n      const stats = this.getStatistics();\n      const progressData = this.loadProgress();\n      return {\n        stats,\n        recentActivity: this.getRecentActivity(),\n        learningGoals: this.getLearningGoals(),\n        progressData\n      };\n    } catch (error) {\n      console.error('Error getting dashboard data:', error);\n      return {\n        stats: this.getStatistics(),\n        recentActivity: [],\n        learningGoals: {},\n        progressData: this.getDefaultProgress()\n      };\n    }\n  }\n\n  // Get recent activity\n  getRecentActivity() {\n    try {\n      var _progressData$quizzes2, _progressData$termsMa3;\n      const progressData = this.loadProgress();\n      const activities = [];\n\n      // Add recent quizzes\n      const recentQuizzes = ((_progressData$quizzes2 = progressData.quizzesTaken) === null || _progressData$quizzes2 === void 0 ? void 0 : _progressData$quizzes2.slice(-3).reverse()) || [];\n      recentQuizzes.forEach(quiz => {\n        activities.push({\n          type: 'quiz',\n          title: quiz.name || 'Quiz',\n          score: quiz.score,\n          time: quiz.takenAt,\n          message: `Scored ${quiz.score}% on ${quiz.name || 'a quiz'}`\n        });\n      });\n\n      // Add recently mastered terms\n      if (((_progressData$termsMa3 = progressData.termsMastered) === null || _progressData$termsMa3 === void 0 ? void 0 : _progressData$termsMa3.length) > 0) {\n        const recentTerms = progressData.termsMastered.slice(-2);\n        activities.push({\n          type: 'term',\n          title: 'Terms Mastered',\n          count: recentTerms.length,\n          time: new Date().toISOString(),\n          message: `Mastered ${recentTerms.length} new terms`\n        });\n      }\n\n      // Sort by time (newest first)\n      return activities.sort((a, b) => new Date(b.time) - new Date(a.time)).slice(0, 5);\n    } catch (error) {\n      console.error('Error getting recent activity:', error);\n      return [];\n    }\n  }\n\n  // Learning goals\n  getLearningGoals() {\n    try {\n      var _progressData$termsMa4, _progressData$videosW3, _progressData$quizzes3;\n      const progressData = this.loadProgress();\n      const settings = this.loadSettings();\n      const masteredTerms = ((_progressData$termsMa4 = progressData.termsMastered) === null || _progressData$termsMa4 === void 0 ? void 0 : _progressData$termsMa4.length) || 0;\n      const watchedVideos = ((_progressData$videosW3 = progressData.videosWatched) === null || _progressData$videosW3 === void 0 ? void 0 : _progressData$videosW3.length) || 0;\n      const takenQuizzes = ((_progressData$quizzes3 = progressData.quizzesTaken) === null || _progressData$quizzes3 === void 0 ? void 0 : _progressData$quizzes3.length) || 0;\n      return {\n        dailyGoal: settings.dailyGoal || 5,\n        currentTermsToday: 0,\n        // Would track daily terms in a real app\n        termsGoal: Math.max(50, masteredTerms + 10),\n        videosGoal: Math.max(20, watchedVideos + 5),\n        quizzesGoal: Math.max(10, takenQuizzes + 3)\n      };\n    } catch (error) {\n      console.error('Error getting learning goals:', error);\n      return {\n        dailyGoal: 5,\n        currentTermsToday: 0,\n        termsGoal: 50,\n        videosGoal: 20,\n        quizzesGoal: 10\n      };\n    }\n  }\n}\nexport default new StorageService();","map":{"version":3,"names":["StorageService","constructor","PROGRESS_KEY","BOOKMARKS_KEY","SETTINGS_KEY","getDefaultProgress","termsMastered","coursesProgress","videosWatched","quizzesTaken","streak","lastActive","achievements","getDefaultBookmarks","getDefaultSettings","theme","notifications","autoPlayVideos","difficulty","dailyGoal","saveProgress","progressData","localStorage","setItem","JSON","stringify","error","console","loadProgress","data","getItem","parse","saveBookmarks","bookmarks","loadBookmarks","addBookmark","item","isAlreadyBookmarked","some","b","id","type","push","bookmarkedAt","Date","toISOString","success","message","removeBookmark","itemId","itemType","initialLength","length","filteredBookmarks","filter","isBookmarked","updateCourseProgress","courseId","progress","Math","min","max","getCourseProgress","_progressData$courses","updateTermMastery","termId","mastered","includes","isTermMastered","_progressData$termsMa","markVideoWatched","videoId","isVideoWatched","_progressData$videosW","saveQuizResult","quizData","takenAt","now","toString","getQuizResults","updateStreak","today","toDateString","yesterday","setDate","getDate","yesterdayStr","getStreak","addAchievement","achievementId","achievementName","a","name","earnedAt","getAchievements","saveSettings","settings","loadSettings","updateSetting","key","value","getStatistics","_progressData$termsMa2","_progressData$videosW2","_progressData$quizzes","_progressData$achieve","totalTermsMastered","totalCoursesEnrolled","Object","keys","totalVideosWatched","totalQuizzesTaken","totalBookmarks","currentStreak","totalAchievements","resetAllData","removeItem","exportData","exportedAt","version","filename","split","importData","jsonString","hasData","getDashboardData","stats","recentActivity","getRecentActivity","learningGoals","getLearningGoals","_progressData$quizzes2","_progressData$termsMa3","activities","recentQuizzes","slice","reverse","forEach","quiz","title","score","time","recentTerms","count","sort","_progressData$termsMa4","_progressData$videosW3","_progressData$quizzes3","masteredTerms","watchedVideos","takenQuizzes","currentTermsToday","termsGoal","videosGoal","quizzesGoal"],"sources":["C:/Users/CAPACITI-JHB/OneDrive/Desktop/bright-de-ai-assistant/data-engineering-assistant/src/services/storageService.js"],"sourcesContent":["class StorageService {\r\n  constructor() {\r\n    this.PROGRESS_KEY = 'de_assistant_progress';\r\n    this.BOOKMARKS_KEY = 'de_assistant_bookmarks';\r\n    this.SETTINGS_KEY = 'de_assistant_settings';\r\n  }\r\n\r\n  // Initialize default progress data\r\n  getDefaultProgress() {\r\n    return {\r\n      termsMastered: [],\r\n      coursesProgress: {},\r\n      videosWatched: [],\r\n      quizzesTaken: [],\r\n      streak: 0,\r\n      lastActive: null,\r\n      achievements: []\r\n    };\r\n  }\r\n\r\n  // Initialize default bookmarks\r\n  getDefaultBookmarks() {\r\n    return [];\r\n  }\r\n\r\n  // Initialize default settings\r\n  getDefaultSettings() {\r\n    return {\r\n      theme: 'light',\r\n      notifications: true,\r\n      autoPlayVideos: false,\r\n      difficulty: 'beginner',\r\n      dailyGoal: 5\r\n    };\r\n  }\r\n\r\n  // Progress tracking\r\n  saveProgress(progressData) {\r\n    try {\r\n      localStorage.setItem(this.PROGRESS_KEY, JSON.stringify(progressData));\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error saving progress:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  loadProgress() {\r\n    try {\r\n      const data = localStorage.getItem(this.PROGRESS_KEY);\r\n      return data ? JSON.parse(data) : this.getDefaultProgress();\r\n    } catch (error) {\r\n      console.error('Error loading progress:', error);\r\n      return this.getDefaultProgress();\r\n    }\r\n  }\r\n\r\n  // Bookmarks\r\n  saveBookmarks(bookmarks) {\r\n    try {\r\n      localStorage.setItem(this.BOOKMARKS_KEY, JSON.stringify(bookmarks));\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error saving bookmarks:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  loadBookmarks() {\r\n    try {\r\n      const data = localStorage.getItem(this.BOOKMARKS_KEY);\r\n      return data ? JSON.parse(data) : this.getDefaultBookmarks();\r\n    } catch (error) {\r\n      console.error('Error loading bookmarks:', error);\r\n      return this.getDefaultBookmarks();\r\n    }\r\n  }\r\n\r\n  // Add bookmark\r\n  addBookmark(item) {\r\n    try {\r\n      const bookmarks = this.loadBookmarks();\r\n      \r\n      // Check if already bookmarked\r\n      const isAlreadyBookmarked = bookmarks.some(\r\n        b => b.id === item.id && b.type === item.type\r\n      );\r\n      \r\n      if (!isAlreadyBookmarked) {\r\n        bookmarks.push({\r\n          ...item,\r\n          bookmarkedAt: new Date().toISOString()\r\n        });\r\n        this.saveBookmarks(bookmarks);\r\n        return { success: true, message: 'Bookmark added!' };\r\n      }\r\n      return { success: false, message: 'Already bookmarked' };\r\n    } catch (error) {\r\n      console.error('Error adding bookmark:', error);\r\n      return { success: false, message: 'Error adding bookmark' };\r\n    }\r\n  }\r\n\r\n  // Remove bookmark\r\n  removeBookmark(itemId, itemType) {\r\n    try {\r\n      const bookmarks = this.loadBookmarks();\r\n      const initialLength = bookmarks.length;\r\n      \r\n      const filteredBookmarks = bookmarks.filter(\r\n        b => !(b.id === itemId && b.type === itemType)\r\n      );\r\n      \r\n      if (filteredBookmarks.length !== initialLength) {\r\n        this.saveBookmarks(filteredBookmarks);\r\n        return { success: true, message: 'Bookmark removed!' };\r\n      }\r\n      return { success: false, message: 'Bookmark not found' };\r\n    } catch (error) {\r\n      console.error('Error removing bookmark:', error);\r\n      return { success: false, message: 'Error removing bookmark' };\r\n    }\r\n  }\r\n\r\n  // Check if item is bookmarked\r\n  isBookmarked(itemId, itemType) {\r\n    try {\r\n      const bookmarks = this.loadBookmarks();\r\n      return bookmarks.some(b => b.id === itemId && b.type === itemType);\r\n    } catch (error) {\r\n      console.error('Error checking bookmark:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Course progress\r\n  updateCourseProgress(courseId, progress) {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      progressData.coursesProgress = progressData.coursesProgress || {};\r\n      progressData.coursesProgress[courseId] = Math.min(100, Math.max(0, progress));\r\n      this.saveProgress(progressData);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error updating course progress:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getCourseProgress(courseId) {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      return progressData.coursesProgress?.[courseId] || 0;\r\n    } catch (error) {\r\n      console.error('Error getting course progress:', error);\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  // Term mastery\r\n  updateTermMastery(termId, mastered) {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      progressData.termsMastered = progressData.termsMastered || [];\r\n      \r\n      if (mastered) {\r\n        // Add if not already there\r\n        if (!progressData.termsMastered.includes(termId)) {\r\n          progressData.termsMastered.push(termId);\r\n        }\r\n      } else {\r\n        // Remove if exists\r\n        progressData.termsMastered = progressData.termsMastered.filter(id => id !== termId);\r\n      }\r\n      \r\n      this.saveProgress(progressData);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error updating term mastery:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isTermMastered(termId) {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      return progressData.termsMastered?.includes(termId) || false;\r\n    } catch (error) {\r\n      console.error('Error checking term mastery:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Video watching\r\n  markVideoWatched(videoId) {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      progressData.videosWatched = progressData.videosWatched || [];\r\n      \r\n      if (!progressData.videosWatched.includes(videoId)) {\r\n        progressData.videosWatched.push(videoId);\r\n        this.saveProgress(progressData);\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Error marking video as watched:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isVideoWatched(videoId) {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      return progressData.videosWatched?.includes(videoId) || false;\r\n    } catch (error) {\r\n      console.error('Error checking video watched:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Quiz results\r\n  saveQuizResult(quizData) {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      progressData.quizzesTaken = progressData.quizzesTaken || [];\r\n      \r\n      progressData.quizzesTaken.push({\r\n        ...quizData,\r\n        takenAt: new Date().toISOString(),\r\n        id: Date.now().toString() // Unique ID\r\n      });\r\n      \r\n      this.saveProgress(progressData);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error saving quiz result:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getQuizResults() {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      return progressData.quizzesTaken || [];\r\n    } catch (error) {\r\n      console.error('Error getting quiz results:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  // Streak tracking\r\n  updateStreak() {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      const today = new Date().toDateString();\r\n      const lastActive = progressData.lastActive ? \r\n        new Date(progressData.lastActive).toDateString() : null;\r\n      \r\n      if (lastActive === today) {\r\n        return progressData.streak;\r\n      }\r\n      \r\n      const yesterday = new Date();\r\n      yesterday.setDate(yesterday.getDate() - 1);\r\n      const yesterdayStr = yesterday.toDateString();\r\n      \r\n      if (lastActive === yesterdayStr) {\r\n        progressData.streak += 1;\r\n      } else {\r\n        progressData.streak = 1;\r\n      }\r\n      \r\n      progressData.lastActive = new Date().toISOString();\r\n      this.saveProgress(progressData);\r\n      \r\n      return progressData.streak;\r\n    } catch (error) {\r\n      console.error('Error updating streak:', error);\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  getStreak() {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      return progressData.streak || 0;\r\n    } catch (error) {\r\n      console.error('Error getting streak:', error);\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  // Achievements\r\n  addAchievement(achievementId, achievementName) {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      progressData.achievements = progressData.achievements || [];\r\n      \r\n      if (!progressData.achievements.some(a => a.id === achievementId)) {\r\n        progressData.achievements.push({\r\n          id: achievementId,\r\n          name: achievementName,\r\n          earnedAt: new Date().toISOString()\r\n        });\r\n        this.saveProgress(progressData);\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Error adding achievement:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getAchievements() {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      return progressData.achievements || [];\r\n    } catch (error) {\r\n      console.error('Error getting achievements:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  // Settings\r\n  saveSettings(settings) {\r\n    try {\r\n      localStorage.setItem(this.SETTINGS_KEY, JSON.stringify(settings));\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error saving settings:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  loadSettings() {\r\n    try {\r\n      const data = localStorage.getItem(this.SETTINGS_KEY);\r\n      return data ? JSON.parse(data) : this.getDefaultSettings();\r\n    } catch (error) {\r\n      console.error('Error loading settings:', error);\r\n      return this.getDefaultSettings();\r\n    }\r\n  }\r\n\r\n  updateSetting(key, value) {\r\n    try {\r\n      const settings = this.loadSettings();\r\n      settings[key] = value;\r\n      this.saveSettings(settings);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error updating setting:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Statistics\r\n  getStatistics() {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      const bookmarks = this.loadBookmarks();\r\n      \r\n      return {\r\n        totalTermsMastered: progressData.termsMastered?.length || 0,\r\n        totalCoursesEnrolled: Object.keys(progressData.coursesProgress || {}).length,\r\n        totalVideosWatched: progressData.videosWatched?.length || 0,\r\n        totalQuizzesTaken: progressData.quizzesTaken?.length || 0,\r\n        totalBookmarks: bookmarks.length || 0,\r\n        currentStreak: progressData.streak || 0,\r\n        totalAchievements: progressData.achievements?.length || 0,\r\n        lastActive: progressData.lastActive || 'Never'\r\n      };\r\n    } catch (error) {\r\n      console.error('Error getting statistics:', error);\r\n      return {\r\n        totalTermsMastered: 0,\r\n        totalCoursesEnrolled: 0,\r\n        totalVideosWatched: 0,\r\n        totalQuizzesTaken: 0,\r\n        totalBookmarks: 0,\r\n        currentStreak: 0,\r\n        totalAchievements: 0,\r\n        lastActive: 'Never'\r\n      };\r\n    }\r\n  }\r\n\r\n  // Reset all data\r\n  resetAllData() {\r\n    try {\r\n      localStorage.removeItem(this.PROGRESS_KEY);\r\n      localStorage.removeItem(this.BOOKMARKS_KEY);\r\n      localStorage.removeItem(this.SETTINGS_KEY);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error resetting data:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Export data\r\n  exportData() {\r\n    try {\r\n      const data = {\r\n        progress: this.loadProgress(),\r\n        bookmarks: this.loadBookmarks(),\r\n        settings: this.loadSettings(),\r\n        exportedAt: new Date().toISOString(),\r\n        version: '1.0.0'\r\n      };\r\n      return {\r\n        success: true,\r\n        data: JSON.stringify(data, null, 2),\r\n        filename: `de-assistant-backup-${new Date().toISOString().split('T')[0]}.json`\r\n      };\r\n    } catch (error) {\r\n      console.error('Error exporting data:', error);\r\n      return { success: false, error: error.message };\r\n    }\r\n  }\r\n\r\n  // Import data\r\n  importData(jsonString) {\r\n    try {\r\n      const data = JSON.parse(jsonString);\r\n      \r\n      if (data.progress) this.saveProgress(data.progress);\r\n      if (data.bookmarks) this.saveBookmarks(data.bookmarks);\r\n      if (data.settings) this.saveSettings(data.settings);\r\n      \r\n      return { \r\n        success: true, \r\n        message: 'Data imported successfully!' \r\n      };\r\n    } catch (error) {\r\n      console.error('Error importing data:', error);\r\n      return { \r\n        success: false, \r\n        error: 'Invalid data format or corrupted file' \r\n      };\r\n    }\r\n  }\r\n\r\n  // Check if user has data\r\n  hasData() {\r\n    try {\r\n      return localStorage.getItem(this.PROGRESS_KEY) !== null ||\r\n             localStorage.getItem(this.BOOKMARKS_KEY) !== null ||\r\n             localStorage.getItem(this.SETTINGS_KEY) !== null;\r\n    } catch (error) {\r\n      console.error('Error checking data:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Get all progress for dashboard\r\n  getDashboardData() {\r\n    try {\r\n      const stats = this.getStatistics();\r\n      const progressData = this.loadProgress();\r\n      \r\n      return {\r\n        stats,\r\n        recentActivity: this.getRecentActivity(),\r\n        learningGoals: this.getLearningGoals(),\r\n        progressData\r\n      };\r\n    } catch (error) {\r\n      console.error('Error getting dashboard data:', error);\r\n      return {\r\n        stats: this.getStatistics(),\r\n        recentActivity: [],\r\n        learningGoals: {},\r\n        progressData: this.getDefaultProgress()\r\n      };\r\n    }\r\n  }\r\n\r\n  // Get recent activity\r\n  getRecentActivity() {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      const activities = [];\r\n      \r\n      // Add recent quizzes\r\n      const recentQuizzes = progressData.quizzesTaken?.slice(-3).reverse() || [];\r\n      recentQuizzes.forEach(quiz => {\r\n        activities.push({\r\n          type: 'quiz',\r\n          title: quiz.name || 'Quiz',\r\n          score: quiz.score,\r\n          time: quiz.takenAt,\r\n          message: `Scored ${quiz.score}% on ${quiz.name || 'a quiz'}`\r\n        });\r\n      });\r\n      \r\n      // Add recently mastered terms\r\n      if (progressData.termsMastered?.length > 0) {\r\n        const recentTerms = progressData.termsMastered.slice(-2);\r\n        activities.push({\r\n          type: 'term',\r\n          title: 'Terms Mastered',\r\n          count: recentTerms.length,\r\n          time: new Date().toISOString(),\r\n          message: `Mastered ${recentTerms.length} new terms`\r\n        });\r\n      }\r\n      \r\n      // Sort by time (newest first)\r\n      return activities.sort((a, b) => new Date(b.time) - new Date(a.time)).slice(0, 5);\r\n    } catch (error) {\r\n      console.error('Error getting recent activity:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  // Learning goals\r\n  getLearningGoals() {\r\n    try {\r\n      const progressData = this.loadProgress();\r\n      const settings = this.loadSettings();\r\n      \r\n      const masteredTerms = progressData.termsMastered?.length || 0;\r\n      const watchedVideos = progressData.videosWatched?.length || 0;\r\n      const takenQuizzes = progressData.quizzesTaken?.length || 0;\r\n      \r\n      return {\r\n        dailyGoal: settings.dailyGoal || 5,\r\n        currentTermsToday: 0, // Would track daily terms in a real app\r\n        termsGoal: Math.max(50, masteredTerms + 10),\r\n        videosGoal: Math.max(20, watchedVideos + 5),\r\n        quizzesGoal: Math.max(10, takenQuizzes + 3)\r\n      };\r\n    } catch (error) {\r\n      console.error('Error getting learning goals:', error);\r\n      return {\r\n        dailyGoal: 5,\r\n        currentTermsToday: 0,\r\n        termsGoal: 50,\r\n        videosGoal: 20,\r\n        quizzesGoal: 10\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\nexport default new StorageService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}